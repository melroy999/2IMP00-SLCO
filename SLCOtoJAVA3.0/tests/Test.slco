model Test {
    actions actionA actionB

    classes
    P {
        variables Boolean[2] x Integer y
        state machines
        SM1 {
            variables Integer i Integer[2] I Boolean b Boolean[2] B
            initial SMC0 states SMC1
            transitions
                from SMC0 to SMC1 {
                    [not x[i]; i := i+1; x[i]:=i=2; i:= 3; x[0]:= False]
                }
                from SMC0 to SMC0 {
                    i := 0;
                }
        }
        Com {
            variables Integer i := 1 Integer[2] I := [1, 1] Boolean b := False Boolean[2] B := [False,False]
            initial Com0 states Com1 Com2
            transitions
                1: from Com0 to Com1 {
                    I[i] = 0;
                }
        }
    }
    objects p: P(x:=[False,True],y:=1), p2: P(x:=[False,False],y:=2), p3: P()
}
